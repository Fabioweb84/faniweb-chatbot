<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Faniweb Chatbot Alpha</title>
  <!-- BotUI CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/botui/build/botui-theme-default.css"/>
  <style>
    body { margin:0; background:#f4f7f8; font-family:Arial,sans-serif }
    #botui-app { max-width:600px; margin:2rem auto; }
  </style>
</head>
<body>
  <div id="botui-app">
    <bot-ui></bot-ui>
  </div>

  <!-- BotUI JS -->
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="https://cdn.jsdelivr.net/npm/botui/build/botui.min.js"></script>
  <script>
    const botui = new BotUI('botui-app');

    async function runChat() {
      await botui.message.bot({ content: 'Salut et bienvenue chez Faniweb ! Je tâ€™aide Ã  crÃ©er ton site pro en 1 minute.' });
      await botui.message.bot({ content: 'ğŸ” Quel est ton secteur dâ€™activitÃ© ?' });
      const sector = await botui.action.text({ action: { placeholder: 'Ex : Coach, Avocatâ€¦' } });
      await botui.message.user({ content: sector.value });
      await botui.message.bot({ content: 'ğŸ¨ Super ! Quel style souhaites-tu ? (Ã‰purÃ© & Moderne, ColorÃ©, Classiqueâ€¦)' });
      const style = await botui.action.text({ action: { placeholder: 'Ã‰purÃ© & Moderne' } });
      await botui.message.user({ content: style.value });
      await botui.message.bot({ content: 'ğŸ“‚ Choisis un template :' });
      const tmpl = await botui.action.button({
        action: [
          { text: 'Coach Pro', value: 'Coach Pro', icon: 'ğŸ’¼' },
          { text: 'Avocat Classique', value: 'Avocat Classique', icon: 'âš–ï¸' },
          { text: 'Artisan Chic', value: 'Artisan Chic', icon: 'ğŸ”¨' },
          { text: 'Restaurant Gastronomique', value: 'Restaurant Gastronomique', icon: 'ğŸ½ï¸' },
          { text: 'Consultant Business', value: 'Consultant Business', icon: 'ğŸ“Š' },
          { text: 'Artiste Creative', value: 'Artiste Creative', icon: 'ğŸ¨' }
        ]
      });
      await botui.message.user({ content: tmpl.value });
      // Afficher un aperÃ§u visuel simple
      await botui.message.bot({ content: 'Voici un aperÃ§u du template choisi :' });
      await botui.message.bot({
        type: 'html',
        content: `<img style="max-width:100%;border-radius:8px;margin:1rem 0" src="https://via.placeholder.com/300x180.png?text=${encodeURIComponent(tmpl.value)}" alt="${tmpl.value}">`
      });
      await botui.message.bot({ content: 'âœ… GÃ©nial ! Nous prÃ©parons ton aperÃ§u IA sur mesure maintenant. â†’ [Preview en prÃ©paration]' });
    }

    runChat();
  </script>
</body>
</html>
